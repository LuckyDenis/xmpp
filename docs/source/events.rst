.. _Events:


.. highlight:: bash


Events
======

Connection
----------

+------------------------+--------------------------------------------------+
| **tcp_established**    | the TCP connection was established               |
+------------------------+--------------------------------------------------+
| **tcp_restablished**   | the TCP connection was lost and restablished     |
+------------------------+--------------------------------------------------+
| **tcp_downgraded**     | the TLS connection was downgraded to TCP         |
+------------------------+--------------------------------------------------+
| **tcp_disconnect**     | the TCP connection was lost                      |
+------------------------+--------------------------------------------------+
| **tcp_failed**         | the TCP connection failed to be established      |
+------------------------+--------------------------------------------------+
| **ssl_established**    | the TLS connection was established               |
+------------------------+--------------------------------------------------+
| **ssl_invalid_chain**  | the TLS handshake failed for invalid chain       |
+------------------------+--------------------------------------------------+
| **ssl_invalid_cert**   | the TLS handshake failed for invalid server cert |
+------------------------+--------------------------------------------------+
| **ssl_failed**         | failed to establish a TLS connection             |
+------------------------+--------------------------------------------------+
| **ssl_start**          | started SSL negotiation                          |
+------------------------+--------------------------------------------------+
| **write**              | the TCP/TLS connection is ready to send data     |
+------------------------+--------------------------------------------------+
| **read**               | the TCP/TLS connection is ready to receive data  |
+------------------------+--------------------------------------------------+
| **ready_to_write**     | the TCP/TLS connection is ready to send data     |
+------------------------+--------------------------------------------------+
| **ready_to_read**      | the TCP/TLS connection is ready to receive data  |
+------------------------+--------------------------------------------------+

XMLStream
---------

+--------------------------+------------------------------------------------------------------------------------------------------------+
| **feed**                 | the XMLStream has just been fed with xml                                                                   |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **open**                 | the XMLStream is open                                                                                      |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **closed**               | the XMLStream has been closed                                                                              |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **error**                | received a <stream:error></stream:error> from the server                                                   |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **unhandled_xml**        | the XMLStream failed to feed the incremental XML parser with the given value                               |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **node**                 | a new xmpp.Node was just parsed by the stream and is available to use                                      |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **iq**                   | a new xmpp.IQ was node was received                                                                        |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **message**              | a new xmpp.Message node was received                                                                       |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **presence**             | a new xmpp.Presence node was received                                                                      |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **start_stream**         | a new stream is being negotiated                                                                           |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **start_tls**            | server sent <starttls />                                                                                   |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **tls_proceed**          | the peer allowed the TCP connection to upgrade to TLS                                                      |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **sasl_challenge**       | the peer sent a SASL challenge                                                                             |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **sasl_success**         | the peer sent a SASL success                                                                               |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **sasl_failure**         | the peer sent a SASL failure                                                                               |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **sasl_response**        | the peer sent a SASL response                                                                              |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **sasl_support**         | the peer says it supports SASL                                                                             |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **bind_support**         | the peer says it supports binding resource                                                                 |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **iq_result**            | the peer returned a <iq type="result"></iq>                                                                |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **iq_set**               | the peer returned a <iq type="set"></iq>                                                                   |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **iq_get**               | the peer returned a <iq type="get"></iq>                                                                   |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **iq_error**             | the peer returned a <iq type="error"></iq>                                                                 |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **user_registration**    | the peer supports user registration                                                                        |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **bound_jid**            | the peer returned a <jid>username@domain/resource</jid> that should be used in the from= of stanzas        |
+--------------------------+------------------------------------------------------------------------------------------------------------+
| **success_handshake**    | the server authorized the component to reopen the stream and start sending stanzas                         |
+--------------------------+------------------------------------------------------------------------------------------------------------+


Extensions
----------

Every extension must expose its own node handling


Service Discovery (0030)
~~~~~~~~~~~~~~~~~~~~~~~~

+-----------------+-------------------------------------------------------+
| **query_items** | the server returned a list of items                   |
+-----------------+-------------------------------------------------------+
| **query_info**  | the server returned a list of identities and features |
+-----------------+-------------------------------------------------------+
